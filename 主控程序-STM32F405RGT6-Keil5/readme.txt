《机创植树车电控硬件综述》

/*********************************/
所需电机：（共约1000元）
	种树机构：2+2舵机+（2+1）编码器电机+1大扭力电机（4*40+150+70=380RMB）
	//种草机构：4舵机+3编码器电机（4*88+3*50=508）
	底盘：2大扭矩编码器电机（2×150）
	总计：6个编码器电机，8个舵机。除去已有的，最终大约1000RMB。
所用硬件：（共约400元）
	1个STM32F405核心板+拓展PCB板（自画）(90RMB)
	//1个6S（22.2V）航模锂电池+BB响+1个3S（11.1V）航模锂电池(400+RMB)
	//1个大功率5V稳压模块（40RMB）
	1个多路舵机驱动器，从而可用一个串口控制多个舵机，节约了定时器资源，简化了硬件设计（100RMB）
	//4个大电流双路直流有刷电机驱动板，从而可以利用1个PWM脚+1个IO口控制正反转及转速，节约了定时器资源（300RMB）
	1个惯导模块（100RMB）
	//1个JtsonNano开发板+1个工业摄像头+realsense相机（4300RMB）
/*********************************/


/*********************************/
电机控制总结：
	A类电机：只需要2个IO口进行转动，而不需要编码器进行角度控制。共有1个。
	B类电机：需要编码器，小扭矩小功率。共有2个。
	C类电机：需要编码器，大扭矩大功率。共有3个。
	D类电机：舵机，使用舵机控制板通过串口进行控制。共有4个。
/*********************************/


/*********************************/
所用串口：
	串口1：调试         PA10//只能接收
	串口2：JY901S       PA2/PA3
	串口3：蓝牙模块      PC10/PC11
	串口4：舵机控制器    PA0/PA1（复用TIM5编码器输入）
	串口5：预留（视觉板）PC12TX/PD2RX
	串口6：不使用 	    PC6/PC7(复用TIM8编码器输入）
/*********************************/


/********************************/
通用IO口（用于控制电机正反转，共需2*（5+1）=12个；以及电磁阀等控制。）：
	PA4\5
	PB0\1\2、10\11（10和11可用于PWM，但我们需用于水泵开关控制，不过只需要一个就行，考虑另一个可以用来驱动LED）
	PC0\1\4\5\13\14\15
/********************************/


/*********************************/
STM32F405RCT6核心板可用的TIMx使用：（一个编码器电机需要2+1个时钟通道+2个逻辑IO口）
总计：
	编码器：PC6/PC7、PA15/PB3、PB4/PB5、PB6/PB7、PA8/PA9。共5对，刚好满足5个编码器有刷直流电机。
	PWM：PB8/PB9、PA6/PA7、PB14/PB15。共6个，刚好满足5个编码器有刷直流电机，外加一个电机的供电控制（只有24V电池，而电机为18V，故通过PWM进行降压）。
详情：
	/*2个高级定时器*/
			TIM1高级定时器管脚对应：（1个编码器）
			CH1 PA8 //本来是LED，安排给编码器输入了，同时核心板反接也看不到，所以也没用，所以需要额外用一个管脚在拓展板上自己搞个LED（实际用了PB11）作为指示。
			CH2 PA9
			//CH3 PA10 //PWM，但不能与编码器模式共用，故用作驱动水泵开关
			//CH4 PA11 //PWM，但不能与编码器模式共用，故用作控制LED灯亮灭
			//CH1N PA7 PB13
			//CH2N PB0 PB14
			//CH3N PB1 PB15
			TIM8高级定时器管脚对应：（1个编码器，两个按键）
			CH1 PC6
			CH2 PC7
			//CH3 PC8 用于KEY2 需拓展板外接，因为核心板反接看不到
			//CH4 PC9 用于KEY1 需拓展板外接，因为核心板反接看不到
			//CH1N PA5 PA7
			//CH2N PB0 PB14
			//CH3N PB1 PB15
	/*4个通用定时器*/
			TIM2（1个编码器）
			CH1 PA15(JTDI)
			CH2 PA1(被串口4占用) PB3(JTDO)
			//CH3 PA2 PB10 //PWM，但不能与编码器模式共用
			//CH4 PA3 PB11 //PWM，但不能与编码器模式共用
			TIM3(1个编码器)
			CH1 PA6（用作逻辑IO） PB4(NJTRST)
			CH2 PA7（用作逻辑IO） PB5
			//CH3 PB0 //PWM，但不能与编码器模式共用，故用作方向控制
			//CH4 PB1 //PWM，但不能与编码器模式共用，故用作方向控制
			TIM4（1个编码器）
			CH1 PB6
			CH2 PB7
			//CH3 PB8 //PWM，但不能与编码器模式共用，故用作方向控制
			//CH4 PB9 //PWM，但不能与编码器模式共用，故用作方向控制
			TIM5（不使用，不然串口不够）
			//CH1 PA0(WKUP) (UART4T)
			//CH2 PA1       (UART4R)
			//CH3 PA2       (UART2T)
			//CH4 PA3		(UART2R)
	**********
	双通道（2个PWM，不支持编码器）
			TIM9（不使用，用作串口）
			//CH1 PA2(UART2T)
			//CH2 PA3(UART2R)
			TIM12
			CH1 PB14
			CH2 PB15
	**********
	单通道（4个电机PWM）
			TIM10
			CH1 PB8
			TIM11
			CH1 PB9
			TIM13
			CH1 PA6
			TIM14
			CH1 PA7
	**********
			基本定时器（负责定时，不需要管脚配置）
			TIM6 //信号量控制
			TIM7 //PID控制
	**********

其它IO口占用
/*********************************/
CAN口：
	PA11(RX)/PA12(TX) CAN1
	PB12(RX)/PB13(TX) CAN2
SWD下载：
	PA13/PA14
SPI口：
	PB12(SPI2_NSS,与CAN共用)\PB13(SPI2_SCK，与CAN共用)\PC2(SPI2_MISO)\PC3(SPI2_MOSI)